var FloDialog=function(){this.cloak=document.getElementsByClassName("flo-dialog-cloak")[0],this.activeDialog=null,this.bindTriggers()};FloDialog.prototype.bindTriggers=function(){for(var t=document.getElementsByClassName("trigger-dialog--open"),e=0;e<t.length;e++)this.addEvent(t[e],"click",function(t){var e=t.currentTarget?t.currentTarget:t.srcElement,o=e.getAttribute("data-title"),i=e.getAttribute("href"),l=document.getElementById(e.getAttribute("data-dialog-id"));this.openDialog(l),this.setTitle(o),null!==i&&""!==i&&"javascript:"!==i&&"#"!==i&&(t.preventDefault(),this.loadContentFromUrl(i))}.bind(this),!1)},FloDialog.prototype.setHeight=function(t,e){void 0!==t&&t.getElementsByClassName("dialog__body")[0].setAttribute("style","height:"+e+"px; overflow-y: scroll")},FloDialog.prototype.openDialog=function(t){if(this.initCloseTriggers(t),void 0!==t){this.activeDialog=t,this.openCloak();var e=(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t.className=t.className.replace(/\bhide\b/,""),t.setAttribute("style","top:"+(e+o/2-t.offsetHeight/2)+"px")}},FloDialog.prototype.initCloseTriggers=function(t){for(var e=t.getElementsByClassName("trigger-dialog--close"),o=0;o<e.length;o++)this.addEvent(e[o],"click",function(){this.closeActiveDialog()}.bind(this),!1);void 0!==this.cloak&&this.addEvent(this.cloak,"click",function(t){t.target!==this.activeDialog&&this.closeActiveDialog()}.bind(this),!1)},FloDialog.prototype.closeDialog=function(t){void 0!==t&&(-1===t.className.indexOf("hide")&&(t.className+=" hide"),this.closeCloak())},FloDialog.prototype.closeActiveDialog=function(){this.closeDialog(this.activeDialog)},FloDialog.prototype.openCloak=function(){var t=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);void 0!==this.cloak&&(this.cloak.setAttribute("style","height: "+t+"px"),this.cloak.className=this.cloak.className.replace(/\bhide\b/g,""))},FloDialog.prototype.closeCloak=function(){void 0!==this.cloak&&-1===this.cloak.className.indexOf("hide")&&(this.cloak.className+=" hide")},FloDialog.prototype.setTitle=function(t){if(void 0!==this.activeDialog){var e;void 0!==(e=this.activeDialog.getElementsByClassName("flo-dialog__header")[0])&&(e.getElementsByClassName("title")[0].innerHTML=t)}},FloDialog.prototype.clearContainer=function(t){t.innerHTML=""},FloDialog.prototype.addEvent=function(t,e,o){t.attachEvent?(t["e"+e+o]=o,t[e+o]=function(){t["e"+e+o](window.event)},t.attachEvent("on"+e,t[e+o])):t.addEventListener(e,o,!1)},FloDialog.prototype.setYOffset=function(t){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);this.activeDialog.setAttribute("style","top:"+(t+e/2-this.activeDialog.offsetHeight/2)+"px")},FloDialog.prototype.loadContentFromUrl=function(t){window.Request.get(t,function(t){this.addElementToActiveDialogContent(t.data)}.bind(this))},FloDialog.prototype.addElementToActiveDialogContent=function(t){this.activeDialog.getElementsByClassName("dialog__body")[0].innerHTML=t};